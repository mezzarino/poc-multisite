'use client'
"use strict";var d=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var f=(i,t)=>{for(var a in t)d(i,a,{get:t[a],enumerable:!0})},g=(i,t,a,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of x(t))!w.call(i,o)&&o!==a&&d(i,o,{get:()=>t[o],enumerable:!(n=h(t,o))||n.enumerable});return i};var y=i=>g(d({},"__esModule",{value:!0}),i);var m=(i,t,a)=>new Promise((n,o)=>{var l=u=>{try{c(a.next(u))}catch(s){o(s)}},p=u=>{try{c(a.throw(u))}catch(s){o(s)}},c=u=>u.done?n(u.value):Promise.resolve(u.value).then(l,p);c((a=a.apply(i,t)).next())});var b={};f(b,{CurrencyWidget:()=>N});module.exports=y(b);var r=require("react");var e=require("react/jsx-runtime"),N=i=>{let[t,a]=(0,r.useState)([]),[n,o]=(0,r.useState)(!0),l=()=>m(void 0,null,function*(){let s=yield fetch("/api/exchangerates");if(!s.ok)throw new Error("Failed to fetch exchange rates");a(yield s.json()),o(!1)}),p=(0,e.jsx)("tr",{className:"ui-border-b",children:(0,e.jsx)("th",{scope:"row",colSpan:3,className:"ui-whitespace-nowrap ui-px-6 ui-py-4 ui-font-medium",children:"Loading rates..."})}),c=t.map(s=>(0,e.jsxs)("tr",{className:"ui-border-b",children:[(0,e.jsx)("th",{scope:"row",className:"ui-whitespace-nowrap ui-px-6 ui-py-4 ui-font-medium",children:s.country}),(0,e.jsx)("td",{className:"ui-px-6 ui-py-4",children:s.currency}),(0,e.jsx)("td",{className:"ui-px-6 ui-py-4",children:s.rate})]},s.id)),u=n?p:c;return(0,r.useEffect)(()=>{l()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"ui-h-full ui-p-4",children:(0,e.jsx)("p",{className:"ui-inline-block ui-text-xl",children:"This is an example widget, which is shared across funnel, customer and external website projects."})}),(0,e.jsx)("div",{className:"ui-sm:rounded-lg ui-relative ui-overflow-x-auto ui-shadow-md",children:(0,e.jsxs)("table",{className:"ui-w-full ui-text-left ui-text-sm",children:[(0,e.jsx)("thead",{className:"ui-text-xsui-uppercase",children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{scope:"col",className:"ui-px-6 ui-py-3",children:"Country"}),(0,e.jsx)("th",{scope:"col",className:"ui-px-6 ui-py-3",children:"Currency"}),(0,e.jsx)("th",{scope:"col",className:"ui-px-6 ui-py-3",children:"Sell Rate"})]})}),(0,e.jsx)("tbody",{children:u})]})})]})};0&&(module.exports={CurrencyWidget});
